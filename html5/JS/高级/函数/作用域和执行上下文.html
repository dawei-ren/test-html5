<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>
        /*
        全局作用域

            创建的全局对象都会保存在window对象的属性中
            创建的函数都会作为window的方法保存


        变量的声明提前
            使用var关键字声明的变量，会在所有代码之前被声明，
            但是如果声明不适用var关键字，则变量不会被提前声明

        函数的声明提前


            使用function声明的函数会再所有代码之前被声明
            使用函数表达式创建的函数，不会被提前声明


        局部作用域

            再函数中，使用var声明的变量会时函数内的局部变量，如果不适用var会变成全局变量


        作用域链
            查找变量的时候现在内部作用域查找，没有的话再外面一层找，一直找到最外层
        
        
        */

        /*
        全局执行上下文

            - 在执行代码前，将window确定为全局执行上下文
            - 对全局数据进行预处理
                - var定义的全局变量==> undefined， 添加为window属性
                - function声明的全局函数==>复制fun，添加为window的方法
                - this==>赋值window

            - 开始执行全局代码


        函数执行上下文

            - 在调用函数，准备执行函数前，创建对应的函数执行上下文对象
            - 对局部数据进行处理
                - 形参变量==>赋值（实参）==> 添加为执行上下文的属性
                - arguments==>赋值（实参列表），添加为执行上下文的属性
                - function声明的函数==>赋值（fun），添加为上下文的方法
                - this==>赋值（调用函数的对象）
            - 开始执行函数体代码

        执行上下文栈
            1. 在全局代码执行前， js引擎就会创建一个栈来存储管理所有的执行上下文对象
            2. 在全局执行上下文（window）确定后，将其添加到栈中（压栈）
            3. 在函数执行上下文创建后，将其添加到栈中（压栈）
            4. 在当前函数执行完后，将栈顶的对象移除（出栈）
            5. 当所有的代码执行完后，栈中只剩下window

        
        
        
        */


        /*
        作用域和执行上下文


        区别1：
            - 全局作用域之外，每个函数都会创建自己的作用域，作用域在函数定义时就已经
               确定了，而不是在函数调用时。
            - 而全局执行上下文是在全局作用域确定后，js代码马上执行之前创建
            - 函数执行上下文实在调用函数时，函数体代码执行之前创建
        区别 2.
            - 作用域是静态的，只要函数定义好了就一直存在，且不会再变化
            - 执行上下文是动态的，调用函数时创建，函数调用结束时就会自动释放
        联系：
            - 上下文环境（对象）是从属于所在的作用域
            - 全局上下文环境==> 全局作用域
            - 函数上下文环境==> 对应的函数使用域
        
        */

        var a = 1;

        console.log(window.a)

        function fun(){
            console.log("我是window的方法")

        }

        window.fun()


    </script>
</head>
<body>
    
</body>
</html>