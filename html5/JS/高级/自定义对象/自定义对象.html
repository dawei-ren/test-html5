<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script>

        /*
        Object 构造函数模式
            套路： 先创建空Object对象，再动态添加属性/方法
            使用场景：起始时不确定对象内部数据
            问题：语句太多
        */ 

        var obj = new Object();

        obj.name = "dawei"
        obj.gender = "男"
        obj.age = 18

        obj.sayName = function(name){
            console.log(this.name)
        }
        obj.sayName()


        /*
        字面量创建模式

            套路：使用{}创建对象同时指定属性/方法
            适用场景：起始时对象内部数据时确定的
            问题：如果创建多个对象，又重复代码
        */


        var obj2 = {
            name: "2222",
            gender: "女",
            age: "18",
            sayName: function(){
                console.log(this.name)
            }
        }

        console.log(obj2)
        obj2.sayName()


        



        /*
        使用工厂模式创建对象

            套路：通过工厂函数动态创建对象并返回
            使用场景：需要创建多个对象
            问题：对象没有一个具体的类型，都是Object类型
        */

        function createPerson(name, age, gender){
            var obj = new Object();

            obj.name = name;

            obj.age = age;
            obj.gender = gender;

            obj.sayName = function (){
                alert(this.age)
            }
            return obj

        }

        var swk = createPerson("孙悟空", 18, "男");
        console.log(swk)


        /*
        
        构造函数模式创建对象

        构造函数的执行流程：
            1.立刻创建一个新的对象
            2.将新建的对象设置为函数中的this，在构造函数中可以使用this来引用新建的对象
            3.逐行执行函数中的代码
            4.将新建的对象作为返回值返回

        我们将构造函数成为类，将通过一个构造函数创建的对象成为该类的实例。


        prototype： 原型对象
        以后我们创建构造函数时，可以将这些对象共有的属性和方法统一添加到构造函数的原型对象中，
        这样就不用分别为每个对象都添加，也不会影响到全局作用域，就可以使每个对象都具有这些属性和方法了
        
        */

        function Person(name, age, gender){
            this.name = name;
            this.age = age;
            this.gender = gender;
        }

        // 在原型对象中创建公共方法
        Person.prototype.sayName = function(){
            console.log(this.name);
        }

        // 使用构造函数实例化对象
        var p = new Person("小明", 18, "女")
        console.log(p)


        /*
        对象操作
        */
        // 检查一个对象是不是一个类的实例
        console.log(p instanceof Person)

        // 枚举对象中的属性
        for (var i in p){
            console.log(i)
        }

        // 删除对象的属性
        delete p.name
        console.log(p)

        // in运算符，检查对象中是否有这个属性,如果在原型对象中，返回true
        console.log("sayName" in p)

        // hasOwnProperty() 检查对象中是否有自己的属性，如果在原型对象中，返回false
        console.log(p.hasOwnProperty("sayName"))




        



    </script>
</head>
<body>

    <h2>自定义对象</h2>
    
</body>
</html>